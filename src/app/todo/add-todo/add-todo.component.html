<div>
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <h5 class="fw-bold">{{ editMode ? "Edit" : "Add" }} todo</h5>
    <div class="form-group">
      <label>Title</label>
      <input type="text" class="form-control" formControlName="title" />
    </div>
    <br />
    <div class="form-group">
      <label>Description</label>
      <input type="text" class="form-control" formControlName="description" />
    </div>
    <br />
    <div class="form-group">
      <label>Difficulty</label>
      <select class="form-select" formControlName="level">
        <option *ngFor="let option of formSelect" [value]="option">
          {{ option }}
        </option>
      </select>
    </div>
    <br />
    <div class="form-group" formArrayName="notes">
      <label>Notes</label>
      <button
        class="btn btn-primary btn-sm d-block mb-3"
        type="button"
        (click)="onAddNote()"
      >
        Add note
      </button>
      <p
        class="fw-bold text-center"
        *ngIf="notesArrayControls.controls.length === 0"
      >
        Click "add note" to add a new note
      </p>

      <div
        class="row mb-2"
        *ngFor="let control of notesArrayControls.controls; let i = index"
      >
        <div class="col-10">
          <input
            type="text"
            class="form-control form-control-sm"
            [formControlName]="i"
          />
        </div>
        <div class="col-2">
          <button
            class="btn btn-danger btn-sm"
            type="button"
            (click)="onDeleteNote(i)"
          >
            Delete
          </button>
        </div>
      </div>
    </div>
    <br />

    <button
      class="btn btn-success btn-sm"
      type="submit"
      [disabled]="!form.valid"
    >
      {{ editMode ? "Update" : "Add" }}
    </button>
    <button class="btn btn-danger btn-sm" type="button" (click)="onCancel()">
      Cancel
    </button>
  </form>
</div>

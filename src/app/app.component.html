<main class="container">
  <h3 class="mt-3 text-center">Todo List</h3>

  <ng-container *ngIf="showForm; then cancelButton; else addButton">
  </ng-container>

  <ng-template #addButton>
    <button class="btn btn-success d-block mx-auto" (click)="toggleForm()">
      Add todo
    </button>
  </ng-template>
  <ng-template #cancelButton>
    <button class="btn btn-danger d-block mx-auto" (click)="toggleForm()">
      Cancel
    </button>
  </ng-template>

  <ng-container *ngIf="showForm">
    <section class="mt-4 border w-25 mx-auto p-3 rounded">
      <label for="todoInput" class="fw-bold">New todo</label>
      <input
        type="text"
        [(ngModel)]="newTodo"
        class="form-control form-control-sm mt-2"
      />

      <button
        class="btn btn-sm btn-success form-control mt-4"
        (click)="addTodo()"
      >
        Add todo
      </button>
    </section>
  </ng-container>

  <section class="mt-4 border w-25 mx-auto p-3 rounded">
    <p [ngClass]="{'d-none' : todos}" class="text-center">
      Loading...
      <span class="spinner-border spinner-border-sm" role="status">
        <span class="visually-hidden">Loading...</span>
      </span>
    </p>
    
    <p class="fw-bold text-center" [ngClass]="{ 'd-none': todos?.length !== 0 }">
      No todos available
    </p>

    <div *ngFor="let todo of todos; let i = index">
      
      <app-todo-item
        [todoItem]="todo.name"
        (deleteEventEmitter)="deleteTodo($event)"
      ></app-todo-item>
    </div>
  </section>

  <app-bill-calculator></app-bill-calculator>

  <app-pokemon-container></app-pokemon-container>
</main>
